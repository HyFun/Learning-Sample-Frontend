<!--
 * @Author       : HyFun
 * @Date         : 2021-07-05 15:02:00
 * @Description  : 正则表达式2
 * @LastEditors  : HyFun
 * @LastEditTime : 2021-07-05 18:39:20
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>正则表达式</title>
  </head>
  <body>
    <a
      href="https://github.com/qdlaoyao/js-regex-mini-book/blob/master/JavaScript%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%B7%E4%BD%A0%E4%B9%A6%EF%BC%881.1%E7%89%88%EF%BC%89.pdf"
    >
      正则表达式mini书
    </a>
  </body>
</html>
<script>
  function divider() {
    console.log(`-----------------`)
  }
  /**
   * 正则表达式位置匹配
   */

  /**
   * 1. ES5中个位置 锚
   * ^
   * $
   * \b
   * \B
   * (?=p)
   * (?!p)
   */
  {
    // ^ $ 开始和结束位置
    console.log(`1`.replace(/^|$/g, '#'))
    // \b 是单词边界，具体就是 \w 与 \W 之间的位置，也包括 \w 与 ^ 之间的位置，和 \w 与 $ 之间的位置。
    console.log('[JS] Lesson_01.mp4'.replace(/\b/g, '#'))
    // \B 就是 \b 的反面的意思
    console.log('[JS] Lesson_01.mp4'.replace(/\B/g, '#'))
    // (?=x) 表示x前面的位置
    console.log(`hello`.replace(/(?=l)/g, '#')) // 将l前面的位置替换为 #
    // (?!x) 与上面相反
    console.log(`hello`.replace(/(?!l)/g, '#')) // #h#ell#o#

    // 案例1：千字符表示方法
    console.log(`1314520`.replace(/(?=(\d{3})+$)/g, ',')) // 1,314,520
    console.log(`131452023`.replace(/(?!^)(?=(\d{3})+$)/g, ',')) // 131,452,023
  }

  divider()

  {
    // 如果要把 "12345678 123456789" 替换成 "12,345,678 123,456,789"。
    console.log(`12345678 123456789`.replace(/\B(?=(\d{3})+\b)/g, ','))
  }
  divider()
  {
    // 货币格式化
    function format(num) {
      return num
        .toFixed(3)
        .replace(/\B(?=(\d{3})+\b)/g, ',')
        .replace(/^/, '$ ')
    }
    console.log(format(1888));
  }
</script>
